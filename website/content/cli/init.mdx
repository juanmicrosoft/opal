---
title: "init"
section: "cli"
order: 2
---

# opalc init

Initialize OPAL development environment with MSBuild integration and optional AI agent support.

```bash
opalc init [options]
```

---

## Overview

The `init` command sets up your project for OPAL development by:

1. **Adding MSBuild targets** - Integrates OPAL compilation into your .NET build process
2. **Configuring AI agent integration** (optional) - Creates skills/prompts for your preferred AI coding assistant

After running `init`, you can write `.opal` files alongside your `.cs` files and they'll compile automatically during `dotnet build`.

---

## Quick Start

```bash
# Basic initialization (MSBuild integration only)
opalc init

# Initialize with Claude Code support
opalc init --ai claude

# Initialize with a specific .csproj
opalc init --project MyApp.csproj
```

---

## Options

| Option | Short | Required | Description |
|:-------|:------|:---------|:------------|
| `--ai` | `-a` | No | AI agent to configure: `claude`, `codex`, `gemini`, `github` |
| `--project` | `-p` | No | Target .csproj file (auto-detects if single .csproj exists) |
| `--force` | `-f` | No | Overwrite existing files without prompting |

---

## AI Agent Support (Optional)

When you specify `--ai`, the command also sets up AI-specific configuration files.

### Claude (`--ai claude`)

Creates the following files:

| File | Purpose |
|:-----|:--------|
| `.claude/skills/opal.md` | OPAL code writing skill - teaches Claude OPAL v2+ syntax |
| `.claude/skills/opal-convert.md` | C# to OPAL conversion skill |
| `CLAUDE.md` | Project guidelines instructing Claude to prefer OPAL for new code |

After initialization, use these Claude Code commands:

| Command | Description |
|:--------|:------------|
| `/opal` | Write new OPAL code with Claude's assistance |
| `/opal-convert` | Convert existing C# code to OPAL syntax |

---

## MSBuild Integration

The `init` command adds MSBuild targets to your `.csproj` file that:

- Compile `.opal` files before C# compilation
- Include generated `.g.cs` files in the build
- Clean generated files on `dotnet clean`

### Output Location

Generated C# files are placed in:

```
obj/<Configuration>/<TargetFramework>/opal/
```

This keeps generated files out of your source tree.

---

## Examples

### Basic Initialization

```bash
# Initialize OPAL (MSBuild only)
opalc init

# Analyze codebase for migration candidates
opalc analyze ./src --top 10
```

### With Claude Code

```bash
# Add Claude Code support
opalc init --ai claude
```

### Initialize New Project

```bash
dotnet new console -o MyOpalApp
cd MyOpalApp
opalc init
opalc init --ai claude  # Optional
```

---

## See Also

- [Adding OPAL to Existing Projects](/guides/adding-opal-to-existing-projects/) - Complete migration guide
- [opalc convert](/cli/convert/) - Convert individual files
- [opalc analyze](/cli/analyze/) - Find migration candidates

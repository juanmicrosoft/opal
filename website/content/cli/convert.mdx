---
title: "convert"
section: "cli"
order: 3
---

# opalc convert

Convert a single file between C# and OPAL.

```bash
opalc convert <input> [options]
```

---

## Overview

The `convert` command performs bidirectional conversion between C# and OPAL:

- **C# → OPAL**: Convert `.cs` files to OPAL syntax
- **OPAL → C#**: Convert `.opal` files to generated C#

The conversion direction is automatically detected from the input file extension.

---

## Quick Start

```bash
# Convert C# to OPAL
opalc convert MyService.cs

# Convert OPAL to C#
opalc convert MyService.opal

# Specify output path
opalc convert MyService.cs --output src/MyService.opal

# Include benchmark comparison
opalc convert MyService.cs --benchmark
```

---

## Options

| Option | Short | Default | Description |
|:-------|:------|:--------|:------------|
| `--output` | `-o` | Auto-detected | Output file path |
| `--benchmark` | `-b` | `false` | Include benchmark metrics comparison |
| `--verbose` | `-v` | `false` | Enable verbose output |

---

## Auto-Detected Output Paths

If `--output` is not specified:

| Input | Output |
|:------|:-------|
| `MyFile.cs` | `MyFile.opal` |
| `MyFile.opal` | `MyFile.g.cs` |

---

## Supported Constructs

| C# Construct | OPAL Equivalent |
|:-------------|:----------------|
| `namespace` | `§M[id:Name]` module |
| `class` | `§C[id:Name:vis]` class |
| `method` | `§F[id:Name:vis]` function |
| `property` | `§Y[id:Name:vis:type]` property |
| `field` | `§D[id:type:name]` field |
| `if/else if/else` | `§IF[id]...§EI...§EL...§/I[id]` |
| `for` loop | `§L[id:var:from:to:step]` |
| `while` loop | `§W[id]` |

---

## Benchmark Comparison

Use `--benchmark` to see how the OPAL version compares to C#:

```bash
opalc convert PaymentService.cs --benchmark
```

Output:
```
Benchmark Comparison:
┌─────────────────┬────────┬────────┬──────────┐
│ Metric          │ C#     │ OPAL   │ Savings  │
├─────────────────┼────────┼────────┼──────────┤
│ Tokens          │ 1,245  │ 842    │ 32.4%    │
│ Lines           │ 156    │ 98     │ 37.2%    │
│ Characters      │ 4,521  │ 2,891  │ 36.1%    │
└─────────────────┴────────┴────────┴──────────┘
```

---

## Exit Codes

| Code | Meaning |
|:-----|:--------|
| `0` | Conversion successful |
| `1` | Conversion completed with warnings |
| `2` | Error - file not found, parse error, etc. |

---

## See Also

- [opalc migrate](/cli/migrate/) - Convert entire projects
- [opalc analyze](/cli/analyze/) - Find best conversion candidates
- [opalc benchmark](/cli/benchmark/) - Detailed metrics comparison

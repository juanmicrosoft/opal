---
title: "diagnose"
section: "cli"
order: 7
---


Output machine-readable diagnostics for Calor files.

```bash
calor diagnose <files...> [options]
```

---

## Overview

The `diagnose` command analyzes Calor files and outputs diagnostics in formats suitable for tooling integration:

- **Text** - Human-readable plain text
- **JSON** - Machine-readable structured data
- **SARIF** - Static Analysis Results Interchange Format for IDE/CI integration

---

## Quick Start

```bash
# Diagnose a single file (text output)
calor diagnose MyModule.calr

# JSON output for processing
calor diagnose MyModule.calr --format json

# SARIF output for IDE integration
calor diagnose src/*.calr --format sarif --output diagnostics.sarif

# Enable strict checking
calor diagnose MyModule.calr --strict-api --require-docs
```

---

## Options

| Option | Short | Default | Description |
|:-------|:------|:--------|:------------|
| `--format` | `-f` | `text` | Output format: `text`, `json`, or `sarif` |
| `--output` | `-o` | stdout | Output file (stdout if not specified) |
| `--strict-api` | | `false` | Enable strict API checking |
| `--require-docs` | | `false` | Require documentation on public functions |

---

## Output Formats

### Text (Default)

```
Calculator.calr:12:5: error: Undefined variable 'x'
  Â§R (+ x 1)
       ^

Summary: 1 error, 1 warning, 1 info
```

### JSON

Machine-readable format for automated processing.

### SARIF

Integrates with VS Code, GitHub Code Scanning, Azure DevOps, and other SARIF-compatible tools.

---

## Exit Codes

| Code | Meaning |
|:-----|:--------|
| `0` | No errors |
| `1` | One or more errors found |
| `2` | Processing error |

---

## CI/CD Integration

```yaml
# GitHub Actions
- name: Check Calor diagnostics
  run: calor diagnose src/**/*.calr --format sarif --output calor.sarif

- name: Upload SARIF
  uses: github/codeql-action/upload-sarif@v2
  with:
    sarif_file: calor.sarif
```

---

## See Also

- [calor format](/cli/format/) - Format Calor source files
- [calor compile](/cli/compile/) - Compile with error reporting

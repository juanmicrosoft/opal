§M{m001:Singleton}
§V{v001:instance:prv}
  §T{opt:singleton}
  §INIT none
§/V{v001}
§V{v002:value:prv}
  §T{i32}
  §INIT 0
§/V{v002}
§F{f001:GetInstance:pub}
  §O{singleton}
  §E{state:read}
  §ENS (not (is-none instance))
  §B
    §IF (is-none instance)
      (set instance (some (singleton)))
    §/IF
    §R (unwrap instance)
  §/B
§/F{f001}
§F{f002:GetValue:pub}
  §O{i32}
  §E{state:read}
  §R value
§/F{f002}
§F{f003:SetValue:pub}
  §I{i32:newValue}
  §O{void}
  §E{state:write}
  §B
    (set value newValue)
  §/B
§/F{f003}
§/M{m001}

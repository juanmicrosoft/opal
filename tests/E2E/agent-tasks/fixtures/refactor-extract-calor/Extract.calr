§M{m001:ExtractExamples}

// Simple calculation to extract
§F{f001:Distance:pub}
  §I{i32:x}
  §I{i32:y}
  §O{i32}
  §R (+ (* x x) (* y y))
§/F{f001}

// Function with contracts - extraction should preserve contracts
§F{f002:ProcessArray:pub}
  §I{i32:index}
  §I{i32:length}
  §O{i32}
  §Q (>= index 0)
  §Q (< index length)
  §S (>= result 0)
  §R (? (and (>= index 0) (< index length)) index (- 0 1))
§/F{f002}

// Function with effects - extraction should track effects
§F{f003:LogAndCompute:pub}
  §I{i32:a}
  §I{i32:b}
  §O{i32}
  §E{cw}
  §C{Console.WriteLine}
    §A "Computing sum"
  §/C
  §R (+ a b)
§/F{f003}

// Nested function calls - complex extraction
§F{f004:ComputeNested:pub}
  §I{i32:x}
  §I{i32:y}
  §I{i32:z}
  §O{i32}
  §R (+ (* x x) (+ (* y y) (* z z)))
§/F{f004}

§/M{m001}

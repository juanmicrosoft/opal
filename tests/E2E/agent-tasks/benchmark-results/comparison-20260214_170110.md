# Calor vs C# Refactoring Benchmark Results

**Generated:** Sat Feb 14 17:03:24 EST 2026
**Test Run ID:** 20260214_170110

## Summary

| Metric | Calor | C# |
|--------|-------|-----|
| Tasks Passed | 3 | 4 |
| Tasks Failed | 1 | 0 |
| **Pass Rate** | **75.00%** | **100.00%** |
| Advantage Ratio | 0.75x | 1.00x |

## Analysis

### Key Differentiators

1. **Contract Propagation**: Calor's first-class contracts (§Q, §S) are automatically
   preserved during refactoring operations, while C# relies on comment-based contracts
   that must be manually updated.

2. **Effect Tracking**: Calor's effect system (§E{cw}, §E{fs}, etc.) explicitly tracks
   side effects, making it clear when extracted code has or doesn't have effects.
   C# has no equivalent system.

3. **Stable IDs**: Calor's unique function IDs (f001, f002, etc.) survive refactoring
   operations, enabling reliable cross-references. C# uses names which can break
   references during rename operations.

### Pass Rate Comparison

⚠️ **C# outperformed Calor** in this benchmark run.

This may indicate areas where Calor's syntax or tooling needs improvement,
or could be due to the specific tasks selected.

## Task Categories Tested

- **Extract Method**: Extracting code into new functions with contract preservation
- **Rename Symbol**: Renaming parameters while updating all references
- **Inline Function**: Inlining function calls while preserving contracts
- **Move Method**: Moving functions between modules with dependency updates
- **Add Contract**: Adding preconditions, postconditions, and effect declarations
- **Change Signature**: Modifying function signatures and updating call sites

## Detailed Results

### Calor Tasks

| Status | Count |
|--------|-------|
| Passed | 3 |
| Failed | 1 |
| Total | 4 |

### C# Tasks

| Status | Count |
|--------|-------|
| Passed | 4 |
| Failed | 0 |
| Total | 4 |

## Methodology

- Each task runs 3 times with majority voting (2/3 required to pass)
- Both Calor and C# tasks use equivalent prompts adjusted for language syntax
- Verification includes:
  - Compilation check (both languages)
  - Z3 contract verification (Calor only, when contracts are involved)

## Raw Results

- Calor results: `/Users/juanrivera/sources/repos/juanmicrosoft/calor-3/tests/E2E/agent-tasks/benchmark-results/calor-20260214_170110.json`
- C# results: `/Users/juanrivera/sources/repos/juanmicrosoft/calor-3/tests/E2E/agent-tasks/benchmark-results/csharp-20260214_170110.json`

---

*Generated by Calor Refactoring Benchmark Suite*
